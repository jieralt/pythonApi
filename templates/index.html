<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>选项打勾功能</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>选择你感兴趣的选项：</h2>
        <form id="optionsForm" class="mb-4">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="option" value="选项1" id="option1">
                <label class="form-check-label" for="option1">选项1</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="option" value="选项2" id="option2">
                <label class="form-check-label" for="option2">选项2</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="option" value="选项3" id="option3">
                <label class="form-check-label" for="option3">选项3</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="option" value="选项4" id="option4">
                <label class="form-check-label" for="option4">选项4</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="option" value="选项5" id="option5">
                <label class="form-check-label" for="option5">选项5</label>
            </div>
            <button type="button" class="btn btn-primary mt-3" onclick="submitOptions()">提交</button>
        </form>
        
        <h2>你选择的选项：</h2>
        <ul id="selectedOptions" class="list-group">
            <!-- 选中的选项将显示在这里 -->
        </ul>
    </div>

    <script>
        function submitOptions() {
            var form = document.getElementById('optionsForm');
            var selectedOptions = [];
            var checkboxes = form.querySelectorAll('input[name="option"]:checked');
            checkboxes.forEach(function(checkbox) {
                selectedOptions.push(checkbox.value);
            });

            // 显示选中的选项
            var selectedOptionsList = document.getElementById('selectedOptions');
            selectedOptionsList.innerHTML = '';
            selectedOptions.forEach(function(option) {
                var li = document.createElement('li');
                li.className = 'list-group-item d-flex justify-content-between align-items-center';
                var span = document.createElement('span');
                span.textContent = option;
                var button = document.createElement('button');
                button.className = 'btn btn-danger btn-sm';
                button.textContent = '删除';
                button.onclick = function() {
                    li.remove();
                };
                li.appendChild(span);
                li.appendChild(button);
                selectedOptionsList.appendChild(li);
            });

            // 发送数据到服务器
            fetch('/options/submit-options', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ options: selectedOptions })
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        }
    </script>
</body>
</html>
